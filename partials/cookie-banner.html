<div id="cookie-banner" class="cookie-banner">
  <p>
    เว็บไซต์นี้ใช้คุกกี้เพื่อพัฒนาประสบการณ์ของผู้ใช้
    อ่านเพิ่มเติมได้ที่
    <a href="https://www.tannatthaphon.online/privacy-policy.html" target="_blank">นโยบายความเป็นส่วนตัว</a>
    และ
    <a href="https://www.tannatthaphon.online/terms-of-service.html" target="_blank">ข้อกำหนดและเงื่อนไข</a>
  </p>
  <button id="accept-cookie">ยอมรับ</button>
  <button id="reject-cookie">ปฏิเสธ</button>
  <span id="close-cookie-banner" class="cookie-close-btn" title="ปิด">&times;</span>
  <style>
    .cookie-banner {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #333;
      color: #fff;
      padding: 15px 20px;
      border-radius: 5px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .cookie-banner p {
      margin: 0;
    }
    .cookie-banner a {
      color: #00aced;
      text-decoration: underline;
    }
    .cookie-close-btn {
      cursor: pointer;
      font-size: 20px;
      margin-left: 10px;
    }
    .cookie-banner button {
      padding: 8px 12px;
      border: none;
      border-radius: 3px;
      cursor: pointer;
    }
    .cookie-banner #accept-cookie {
      background-color: #4CAF50;
      color: white;
    }
    .cookie-banner #reject-cookie {
      background-color: #f44336;
      color: white;
    }
    .btn-primary:hover {
      background-color: #45a049;
    }
    .btn-secondary:hover {
      background-color: #da190b;
    }
  </style>
  <script>
(function () {
  const banner = document.getElementById("cookie-banner");
  const acceptBtn = document.getElementById("accept-cookie");
  const rejectBtn = document.getElementById("reject-cookie");
  const closeBtn  = document.getElementById("close-cookie-banner");

  const COOKIE_KEY = "cookieConsent"; 
  // ค่า: accepted | rejected

  // ถ้ามีการตัดสินใจแล้ว ไม่ต้องแสดง
  const consent = localStorage.getItem(COOKIE_KEY);
  if (consent === "accepted" || consent === "rejected") {
    banner.style.display = "none";
    return;
  }

  // ยอมรับ
  acceptBtn.addEventListener("click", function () {
    localStorage.setItem(COOKIE_KEY, "accepted");
    banner.style.display = "none";

    // ถ้ามี Analytics / Script อื่น
    // initAnalytics();
  });

  // ปฏิเสธ
  rejectBtn.addEventListener("click", function () {
    localStorage.setItem(COOKIE_KEY, "rejected");
    banner.style.display = "none";
  });

  // ปิดเฉย ๆ (ยังไม่เลือก)
  closeBtn.addEventListener("click", function () {
    banner.style.display = "none";
  });
})();
</script>
</div>
